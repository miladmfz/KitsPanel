<div class="card">


  <div class="card chat-card">
    <div class="card-header bg-primary text-white">مکاتبات با کاربر</div>
    <div class="card-body">
      <div class="message-container">
        <!-- Messages Go Here -->
        <div *ngFor="let chat of chats ; let i = index" class="message"
          [ngClass]="{'sent-message': chat.CentralRef === CentralRef, 'received-message': chat.CentralRef !== CentralRef}">

          <!-- Use CoreUI grid system for layout -->
          <div class="col-md-3">
            <ng-container *ngIf="chat.ConversationText=='Image'">
              <span class="font-weight-bold text-primary">{{
                chat.Name }}:</span>
              <!-- <h3 [cModalToggle]="DbSetupModal.id" (click)="GetImage(i)">
                {{chat.ConversationText }}

              </h3> -->

              <h3 (click)="GetImage(i)" data-toggle="modal" data-target="#DbSetupModal">
                {{ chat.ConversationText }}
              </h3>

            </ng-container>
            <ng-container *ngIf="chat.ConversationText!='Image'">
              <span class="font-weight-bold text-primary">{{ chat.Name }}</span>: {{
              chat.ConversationText }}

            </ng-container>

          </div>




        </div>
      </div>


      <div class="input-group">
        <input [(ngModel)]="newMessage" class="form-control" placeholder="Type your message..." />
        <button class="btn btn-outline-primary" type="button" (click)="sendMessage()">ارسال</button>
        <button class="btn btn-outline-primary" type="button" (click)="fileInput.click()">pic</button>
        <input type="file" (change)="onFileSelected($event)" id="fileInput" #fileInput style="display: none;">

      </div>



    </div>
  </div>
</div>



<!-- <c-modal #DbSetupModal alignment="center" id="DbSetupModal" size="xl">
  <c-modal-header>
    <h5 cModalTitle>Image View </h5>
    <button [cModalToggle]="DbSetupModal.id" cButtonClose></button>
  </c-modal-header>
  <c-modal-body>

    <img [src]="Imageitem" alt="No Photo">

  </c-modal-body>
  <c-modal-footer>
    <button [cModalToggle]="DbSetupModal.id" cButton color="secondary">
      بستن
    </button>

  </c-modal-footer>
</c-modal> -->
<!-- Minton Template HTML -->

<!-- Minton Template HTML -->

<!-- 
<div class="modal fade" id="DbSetupModal" tabindex="-1" role="dialog" aria-labelledby="DbSetupModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="DbSetupModalLabel">Modal Title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <img [src]="Imageitem" alt="No Photo">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">بستن</button>
      </div>
    </div>
  </div>
</div> -->






<div class="modal fade" #DbSetupModal tabindex="-1" role="dialog" aria-labelledby="DbSetupModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Image View</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <img [src]="Imageitem" alt="No Photo">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">بستن</button>
      </div>
    </div>
  </div>
</div>