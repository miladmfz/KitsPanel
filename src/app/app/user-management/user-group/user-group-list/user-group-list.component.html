<div class="card">
  <div class="card-body">
    <div class="row mb-2">
      <div class="col-sm-12">
        <a
          type="button"
          class="btn btn-success waves-effect waves-light m-1"
          [routerLink]="['/user-management/user-group/create']"
        >
          <!-- *hasPermission="['SystemManagement_UserGroup_New']" -->

          <span class="btn-label"><i class="fas fa-plus"></i></span>جدید
        </a>
        <a
          type="button"
          class="btn btn-light waves-effect waves-light m-1"
          (click)="getList()"
        >
          <span class="btn-label"><i class="fas fa-recycle"></i></span>بازخوانی
        </a>
        <a
          type="button"
          class="btn btn-light waves-effect waves-light m-1"
          (click)="removeAllFilters()"
        >
          <span class="btn-label"><i class="fas fa-eye-slash"></i></span>حذف
          جستجو
        </a>
        <div class="btn-group dropdown">
          <!-- *hasPermission="['Public']" -->
          <button
            type="button"
            class="btn btn-light waves-effect waves-light m-1 dropdown-toggle"
            id="exportdropdown"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            دریافت خروجی <i class="mdi mdi-chevron-down"></i>
          </button>
          <div class="dropdown-menu" aria-labelledby="exportdropdown">
            <button
              class="dropdown-item"
              type="button"
              (click)="onExportExcel()"
            >
              Excel <i class="fas fa-file-excel"></i>
            </button>
            <button class="dropdown-item" type="button" (click)="onExportCSV()">
              CSV <i class="fas fa-file-csv"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- <table
      id="datatable"
      class="table dt-responsive nowrap w-100 table-bordered table-hover"
    >
      <thead class="table-light">
        <tr>
          <th scope="col">عنوان گروه کاربری</th>
          <th scope="col">تعداد کاربران</th>
          <th scope="col">ایجاد کننده</th>
          <th scope="col">تاریخ ایجاد</th>
          <th scope="col">وضعیت</th>
          <th scope="col">عملیات</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let item of userGroups; let index = index">
          <td>{{ item.title }}</td>
          <td>{{ item.userCount }}</td>
          <td>{{ item.createdBy }}</td>
          <td>{{ item.created }}</td>
          <td>
            <span
              *ngIf="item.isActive == 2"
              class="text-danger bg-soft-danger px-1"
              >غیرفعال</span
            >
            <span
              *ngIf="item.isActive == 1"
              class="text-success bg-soft-success px-1"
              >فعال</span
            >
          </td>
          <td>
            <div class="button-list">
              <app-icon-button
                identifier="submitBtn"
                label="حذف"
                icon="mdi-trash-can-outline"
                className="danger btn-sm"
                (click)="delete(item.guid)"
              >
              </app-icon-button>
              <app-icon-button
                *ngIf="item.isActive == 2"
                identifier="submitBtn"
                label="فعال سازی"
                icon="mdi-check-outline"
                className="success btn-sm"
              >
              </app-icon-button>
              <app-icon-button
                *ngIf="item.isActive == 1"
                identifier="submitBtn"
                label="غیر فعال سازی"
                icon="mdi-cancel"
                className="warning btn-sm"
              >
              </app-icon-button>
              <app-icon-button
                identifier="submitBtn"
                label="ویرایش"
                icon="mdi-book-edit-outline"
                className="primary btn-sm"
                (clicked)="navigateToEdit(item.guid)"
              >
              </app-icon-button>
            </div>
          </td>
        </tr>
      </tbody>
    </table> -->

    <ag-grid-angular
      #agGrid
      id="myGrid"
      style="height: 600px; width: auto"
      class="ag-theme-material"
      [rowData]="userGroups"
      [columnDefs]="columnDefs"
      [modules]="modules"
      [localeText]="localeText"
      [defaultColDef]="defaultColDef"
      [enableRtl]="true"
      (gridReady)="onGridReady($event)"
      [pagination]="true"
      [frameworkComponents]="frameworkComponents"
      [context]="context"
    >
    </ag-grid-angular>
  </div>
</div>
